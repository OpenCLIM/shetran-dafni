kind: Model
api_version: v1beta1
metadata:
  display_name: SHETran
  name: shetran
  summary: SHETran is a physically-based spatially-distributed hydrological model.
  source_code: https://github.com/OpenCLIM/shetran-dafni
  publisher: Newcastle University
  description: >
    SHETran is a model for water flow, solute and sediment transport in river catchments.
    SHETran is a finite-difference model in which the physics-based governing partial differential equations for flow and transport are solved on a three-dimensional grid.
    SHETran is a physically-based, spatially-distributed (PBSD) modelling system.
    The plan area of the catchment in SHETran is usually in the range of one to a few thousand square kilometers and the horizontal depth of the subsurface is usually less than 100m.
    This DAFNI model runs the Linux version of SHETRAN Prepare (Snow) and SHETRAN using a library file and preprocessed input data.
spec:
  inputs:
    dataslots:
      - name: SHETran input files
        description: >
          A library file must be present with the extension `.xml`.
          If multiple XML files exist then the alphabetically first file will be used.
          All input files referenced within the library file must be present.
        default:
          - bdb42828-e581-4a1d-8a0a-afcd634d4a2a
        path: inputs
        required: false

    parameters:
      - name: TITLE
        title: Title
        type: string
        description: The title given to the output dataset in the generated metadata file.
        default: Shetran output
        required: false

  outputs:
    datasets:
      - name: SHETRAN output files
        type: folder
        description:
          All input datasets are included in along with the output files.
          Input files generated by SHETRAN Prepare are prepended with "input_".
          Outputs are prepended with "output_".
          The majority of results are contained in the HDF file, which has the extension `.h5`.
          Discharge at the outlet is available in text format at either regular timesteps or every model time step.

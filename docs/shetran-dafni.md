## SHETRAN on DAFNI

SHETran is a model for water flow, solute and sediment transport in river catchments. SHETran is a finite-difference model in which the physics-based governing partial differential equations for flow and transport are solved on a three-dimensional grid. SHETran is a physically-based, spatially-distributed (PBSD) modelling system. The plan area of the catchment in SHETran is usually in the range of one to a few thousand square kilometers and the horizontal depth of the subsurface is usually less than 100m. This DAFNI model runs the Linux version of SHETRAN Prepare (Snow) and SHETRAN using a library file and preprocessed input data.


## Parameters

| name   | title   | description                                                           |
|:-------|:--------|:----------------------------------------------------------------------|
| TITLE  | Title   | The title given to the output dataset in the generated metadata file. |

## Dataslots

| path   | name                | description                                                                                                                                                                                                |
|:-------|:--------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| inputs | SHETran input files | A library file must be present with the extension `.xml`. If multiple XML files exist then the alphabetically first file will be used. All input files referenced within the library file must be present. |

## Outputs

| name                  | description                                                                                                                                                                                                                                                                                                                                                                                       |
|:----------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| outputs/shetran       | SHETRAN output files. All input datasets are included in along with the output files. Input files generated by SHETRAN Prepare are prepended with "input_". Outputs are prepended with "output_". The majority of results are contained in the HDF file, which has the extension `.h5`. Discharge at the outlet is available in text format at either regular timesteps or every model time step. |
| outputs/metadata.json | NID metadata for outputs. This file can be used for creating datasets on DAFNI using the title specified as an input parameter.                                                                                                                                                                                                                                                                   |